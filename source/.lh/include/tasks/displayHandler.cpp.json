{
    "sourceFile": "include/tasks/displayHandler.cpp",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1736973968114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736974049563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n void displayHandler(void *parameters)\n {\n     SPI.begin(SPI_SCK, -1, SPI_MOSI); // -1 means that the MISO pin is not used, due to espressif robbing me my pins iykyk\n     tft.begin();\n-    tft.invertDisplay(false); // Ensure normal color mode\n+    tft.invertDisplay(true); // Ensure normal color mode\n     tft.setRotation(2);\n     tft.fillScreen(ILI9341_BLACK);\n     Serial.println(\"Display Handler started.\");\n \n"
                },
                {
                    "date": 1736974113101,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,14 +73,7 @@\n         tft.setTextColor(0xFD40);\n         tft.setCursor(90, 304);\n         tft.print(\"3D Modeling\");\n \n-        // Display hour and minute\n-        tft.setTextColor(0xDED9);\n-        tft.setCursor(79, 200); // Position for hour\n-        tft.print(hour);\n-        tft.setCursor(79, 240); // Position for minute\n-        tft.print(minute);\n-\n         vTaskDelay(1000 / portTICK_PERIOD_MS); // Delay for 10ms\n     }\n }\n"
                },
                {
                    "date": 1736974369544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,19 @@\n     int minute = 36;             // Replace with actual minute value\n \n     for (;;)\n     {\n+        String line = Serial.readStringUntil('\\n');\n+        Serial.println(line);\n+\n+        // Parse the received data\n+        int comma1 = line.indexOf(',');\n+        int comma2 = line.lastIndexOf(',');\n+\n+        bool capsLockStatus = line.substring(0, comma1).toInt() == 1;\n+        int hour = line.substring(comma1 + 1, comma2).toInt();\n+        int minute = line.substring(comma2 + 1).toInt();\n+\n         // bluetooth_connected\n         tft.drawBitmap(182, 9, image_bluetooth_connected_bits, 14, 16, 0x9C1F);\n \n         // cloud_sync\n@@ -33,16 +44,14 @@\n \n         // menu_settings_sliders\n         tft.drawBitmap(11, 9, image_menu_settings_sliders_bits, 14, 16, 0xDED9);\n \n-        // Layer 5\n+        // Time\n         tft.setTextColor(0xDED9);\n         tft.setTextSize(4);\n         tft.setFont(&FreeSansBold9pt7b);\n         tft.setCursor(79, 62); // Set cursor position\n         tft.print(hour);\n-\n-        // Layer 6\n         tft.setCursor(79, 124);\n         tft.print(minute);\n \n         // Layer 7\n"
                },
                {
                    "date": 1736974655133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,8 @@\n     SPI.begin(SPI_SCK, -1, SPI_MOSI); // -1 means that the MISO pin is not used, due to espressif robbing me my pins iykyk\n     tft.begin();\n     tft.invertDisplay(true); // Ensure normal color mode\n     tft.setRotation(2);\n-    tft.fillScreen(ILI9341_BLACK);\n     Serial.println(\"Display Handler started.\");\n \n     bool capsLockStatus = false; // Replace this with actual logic to check Caps Lock\n     int hour = 10;               // Replace with actual hour value\n@@ -34,8 +33,9 @@\n \n         bool capsLockStatus = line.substring(0, comma1).toInt() == 1;\n         int hour = line.substring(comma1 + 1, comma2).toInt();\n         int minute = line.substring(comma2 + 1).toInt();\n+    tft.fillScreen(ILI9341_BLACK);\n \n         // bluetooth_connected\n         tft.drawBitmap(182, 9, image_bluetooth_connected_bits, 14, 16, 0x9C1F);\n \n"
                }
            ],
            "date": 1736973968114,
            "name": "Commit-0",
            "content": "#include <Adafruit_ILI9341.h>\n// no touch functionality due to having less pins than expected on the ESP32-S3 microcontroller ):\n#include \"UI/main.h\" // main screen UI elements\n\n#define LCD_CS 13\n#define LCD_RST 17\n#define LCD_RS 16\n#define SPI_MOSI 12 // Connect to display's SDI (MOSI)\n#define SPI_SCK 18  // Connect to display's SCK (clock)\n\nAdafruit_ILI9341 tft = Adafruit_ILI9341(LCD_CS, LCD_RS, LCD_RST);\n\nvoid displayHandler(void *parameters)\n{\n    SPI.begin(SPI_SCK, -1, SPI_MOSI); // -1 means that the MISO pin is not used, due to espressif robbing me my pins iykyk\n    tft.begin();\n    tft.invertDisplay(false); // Ensure normal color mode\n    tft.setRotation(2);\n    tft.fillScreen(ILI9341_BLACK);\n    Serial.println(\"Display Handler started.\");\n\n    bool capsLockStatus = false; // Replace this with actual logic to check Caps Lock\n    int hour = 10; // Replace with actual hour value\n    int minute = 36; // Replace with actual minute value\n\n    for (;;)\n    {\n        // bluetooth_connected\n        tft.drawBitmap(182, 9, image_bluetooth_connected_bits, 14, 16, 0x9C1F);\n\n        // cloud_sync\n        tft.drawBitmap(157, 9, image_cloud_sync_bits, 17, 16, 0xF22B);\n\n        // menu_settings_sliders\n        tft.drawBitmap(11, 9, image_menu_settings_sliders_bits, 14, 16, 0xDED9);\n\n        // Layer 5\n        tft.setTextColor(0xDED9);\n        tft.setTextSize(4);\n        tft.setFont(&FreeSansBold9pt7b);\n        tft.setCursor(79, 62); // Set cursor position\n        tft.print(hour);\n\n        // Layer 6\n        tft.setCursor(79, 124);\n        tft.print(minute);\n\n        // Layer 7\n        tft.setTextSize(1);\n        tft.setFont(&FreeMonoBold12pt7b);\n        tft.setCursor(18, 250);\n        tft.print(\"Now Playing\");\n\n        // Layer 7\n        tft.setFont(&FreeMonoBold9pt7b);\n        tft.setCursor(18, 274);\n        tft.print(\"Bury you - Ari.\");\n\n        // music_play\n        tft.drawBitmap(198, 263, image_music_play_bits, 15, 16, 0xDED9);\n\n        // Layer 9\n        tft.setFont();\n        tft.setCursor(206, 8);\n        tft.print(\"Caps\");\n\n        // Layer 10\n        tft.setTextColor(capsLockStatus ? 0xFD40 : 0x7BEF); // ON or OFF\n        tft.setCursor(206, 18);\n        tft.print(capsLockStatus ? \"ON\" : \"OFF\");\n\n        // Layer 11\n        tft.setTextColor(0xFD40);\n        tft.setCursor(90, 304);\n        tft.print(\"3D Modeling\");\n\n        // Display hour and minute\n        tft.setTextColor(0xDED9);\n        tft.setCursor(79, 200); // Position for hour\n        tft.print(hour);\n        tft.setCursor(79, 240); // Position for minute\n        tft.print(minute);\n\n        vTaskDelay(1000 / portTICK_PERIOD_MS); // Delay for 10ms\n    }\n}\n"
        }
    ]
}